# Google Gemini CLI Auth æ‰©å±•

[è¿”å›ç›®å½•](../CLAUDE.md) > **extensions/google-gemini-cli-auth**

## æ¨¡å—èŒè´£

Google Gemini CLIï¼ˆGoogle Code Assistï¼‰OAuth è®¤è¯æä¾›å•†æ’ä»¶ã€‚

## åŠŸèƒ½æ¦‚è¿°

### OAuth è®¤è¯
- **PKCE æµç¨‹**ï¼šProof Key for Code Exchange å¢å¼ºå®‰å…¨æ€§
- **æœ¬åœ°å›è°ƒ**ï¼šè‡ªåŠ¨å¯åŠ¨æœ¬åœ° HTTP æœåŠ¡å™¨æ¥æ”¶å›è°ƒ
- **æ‰‹åŠ¨æ¨¡å¼**ï¼šæ”¯æŒè¿œç¨‹ç¯å¢ƒçš„ URL å¤åˆ¶ç²˜è´´æ¨¡å¼
- **è‡ªåŠ¨åˆ·æ–°**ï¼šæ”¯æŒåˆ·æ–°ä»¤ç‰Œ

### Gemini CLI é›†æˆ
- **Google Code Assist**ï¼šGoogle AI ç¼–ç¨‹åŠ©æ‰‹
- **é»˜è®¤æ¨¡å‹**ï¼š`google-gemini-cli/gemini-3-pro-preview`
- **é¡¹ç›®é…ç½®**ï¼šè‡ªåŠ¨æ£€æµ‹ Cloud é¡¹ç›® ID

## å…³é”®ä¾èµ–

### OAuth å®ç°
- `./oauth.ts` - OAuth ç™»å½•æµç¨‹å®ç°
- `./oauth.test.ts` - OAuth æµ‹è¯•

### ç¯å¢ƒå˜é‡
```bash
# å¯é€‰ï¼šè‡ªå®šä¹‰ OAuth å‡­æ®
OPENCLAW_GEMINI_OAUTH_CLIENT_ID
OPENCLAW_GEMINI_OAUTH_CLIENT_SECRET
GEMINI_CLI_OAUTH_CLIENT_ID
GEMINI_CLI_OAUTH_CLIENT_SECRET
```

## å¯¹å¤–æ¥å£

### æä¾›å•†é…ç½®
```typescript
{
  id: "google-gemini-cli",
  label: "Gemini CLI OAuth",
  aliases: ["gemini-cli"],
  envVars: [
    "OPENCLAW_GEMINI_OAUTH_CLIENT_ID",
    "OPENCLAW_GEMINI_OAUTH_CLIENT_SECRET",
    "GEMINI_CLI_OAUTH_CLIENT_ID",
    "GEMINI_CLI_OAUTH_CLIENT_SECRET",
  ],
  auth: [{
    id: "oauth",
    label: "Google OAuth",
    hint: "PKCE + localhost callback",
    kind: "oauth",
  }],
}
```

### è®¤è¯ç»“æœ
```typescript
{
  profiles: [{
    profileId: string,
    credential: {
      type: "oauth",
      provider: "google-gemini-cli",
      access: string,      // è®¿é—®ä»¤ç‰Œ
      refresh: string,    // åˆ·æ–°ä»¤ç‰Œ
      expires: number,    // è¿‡æœŸæ—¶é—´æˆ³
      email?: string,
      projectId: string, // Cloud é¡¹ç›® ID
    },
  }],
  defaultModel: "google-gemini-cli/gemini-3-pro-preview",
}
```

## ä½¿ç”¨è¯´æ˜

### è®¤è¯æµç¨‹
1. **å¯åŠ¨è®¤è¯**
   ```bash
   openclaw providers add google-gemini-cli
   ```

2. **æœ¬åœ°æ¨¡å¼**
   - è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è¿›è¡Œæˆæƒ
   - æœ¬åœ°æœåŠ¡å™¨æ¥æ”¶å›è°ƒ

3. **è¿œç¨‹æ¨¡å¼**
   - å¤åˆ¶æˆæƒ URL
   - åœ¨æµè§ˆå™¨ä¸­å®Œæˆæˆæƒ
   - å¤åˆ¶å®Œæ•´é‡å®šå‘ URL å¹¶ç²˜è´´

### é¡¹ç›®é…ç½®
å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export GOOGLE_CLOUD_PROJECT="your-project-id"
# æˆ–
export GOOGLE_CLOUD_PROJECT_ID="your-project-id"
```

## æ³¨æ„äº‹é¡¹

1. **Gemini è®¿é—®**ï¼šç¡®ä¿ Google è´¦æˆ·å…·æœ‰ Gemini CLI è®¿é—®æƒé™
2. **OAuth å¤±è´¥**ï¼šå¦‚æœ OAuth å¤±è´¥ï¼ŒéªŒè¯è´¦æˆ·å…·æœ‰ Gemini CLI è®¿é—®æƒé™
3. **é¡¹ç›® ID**ï¼šé»˜è®¤ä» Cloud Code Assist ç«¯ç‚¹è·å–ï¼Œå¤±è´¥æ—¶ä½¿ç”¨ `rising-fact-p41fc`
4. **ä»¤ç‰Œåˆ·æ–°**ï¼šè‡ªåŠ¨åˆ·æ–°ï¼Œå¦‚æœåˆ·æ–°å¤±è´¥éœ€é‡æ–°ç™»å½•

## ç›¸å…³æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶
- `index.ts` - æ’ä»¶å…¥å£
- `oauth.ts` - OAuth æµç¨‹å®ç°
- `oauth.test.ts` - OAuth æµ‹è¯•

### é…ç½®æ–‡ä»¶
- `package.json` - æ’ä»¶æ¸…å•

## å˜æ›´è®°å½•

### 2026-02-13 - åˆå§‹åˆ›å»º
- âœ… åˆ›å»º Google Gemini CLI Auth æ‰©å±•æ–‡æ¡£
- ğŸ“‹ è®°å½• OAuth è®¤è¯æµç¨‹
- ğŸ”— å»ºç«‹ä¸ Gemini CLI çš„å…³è”


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>