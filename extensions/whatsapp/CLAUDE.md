# WhatsApp æ‰©å±• (extensions/whatsapp/)

[æ ¹ç›®å½•](../../CLAUDE.md) > [extensions](../CLAUDE.md) > **whatsapp**

## æ¨¡å—èŒè´£

æä¾› WhatsApp å¹³å°çš„é€šä¿¡é€‚é…å™¨ï¼ŒåŸºäº Baileys WebSocket å®ç°æ¶ˆæ¯æ”¶å‘ã€åª’ä½“ä¼ è¾“å’Œç¾¤ç»„ç®¡ç†ã€‚

## ç›®å½•ç»“æ„

```
extensions/whatsapp/
â”œâ”€â”€ index.ts           # æ’ä»¶å…¥å£
â”œâ”€â”€ package.json       # æ’ä»¶æ¸…å•
â””â”€â”€ src/
    â”œâ”€â”€ runtime.ts     # è¿è¡Œæ—¶å®ç°
    â”œâ”€â”€ monitor.ts     # æ¶ˆæ¯ç›‘æ§
    â”œâ”€â”€ send.ts        # æ¶ˆæ¯å‘é€
    â”œâ”€â”€ targets.ts     # ç›®æ ‡è§£æ
    â”œâ”€â”€ format.ts      # æ¶ˆæ¯æ ¼å¼åŒ–
    â”œâ”€â”€ accounts.ts    # è´¦æˆ·ç®¡ç†
    â””â”€â”€ onboarding.ts  # é…ç½®å‘å¯¼
```

## å…¥å£ä¸å¯åŠ¨

### å¯ç”¨æ’ä»¶
```bash
openclaw channels enable whatsapp
```

### é…ç½®
```json
{
  "whatsapp": {
    "enabled": true,
    "sessionDir": "~/.local/share/openclaw/whatsapp",
    "qrOnTerminal": true
  }
}
```

## å¯¹å¤–æ¥å£

### WhatsAppRuntime æ¥å£
```typescript
interface WhatsAppRuntime {
  monitor: ChannelMonitor;
  sender: MessageSender;
  targets: TargetResolver;
  accounts: AccountManager;
}
```

## å…³é”®åŠŸèƒ½

### æ¶ˆæ¯æ”¶å‘
```typescript
// å‘é€æ–‡æœ¬æ¶ˆæ¯
await whatsapp.send(target, {
  text: "Hello, WhatsApp!",
});

// å‘é€åª’ä½“æ–‡ä»¶
await whatsapp.sendMedia(target, {
  type: "image",
  path: "./image.jpg",
  caption: "Image caption",
});

// å‘é€ç¾¤ç»„æ¶ˆæ¯
await whatsapp.sendToGroup(groupId, {
  text: "Hello group!",
});
```

### è®¤è¯æ–¹å¼
```typescript
// QR ç è®¤è¯
const qr = await whatsapp.getQR();
console.log(qr); // æ˜¾ç¤º QR ç 

// æ¢å¤ä¼šè¯
await whatsapp.restoreSession();
```

## æµ‹è¯•

### æµ‹è¯•å‘½ä»¤
```bash
pnpm test extensions/whatsapp
```

## å¸¸è§é—®é¢˜ (FAQ)

### Q: å¦‚ä½•ç™»å½• WhatsAppï¼Ÿ
A: ä½¿ç”¨ QR ç æ‰«æç™»å½•ï¼Œé¦–æ¬¡è¿è¡Œä¼šåœ¨ç»ˆç«¯æ˜¾ç¤º QR ç ã€‚

### Q: ä¼šè¯å¦‚ä½•æ¢å¤ï¼Ÿ
A: ä¼šè¯æ•°æ®ä¿å­˜åœ¨ `sessionDir` ç›®å½•ï¼Œé‡å¯åè‡ªåŠ¨æ¢å¤ã€‚

### Q: æ”¯æŒå“ªäº›åª’ä½“ç±»å‹ï¼Ÿ
A: æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ã€æ–‡æ¡£ã€è´´çº¸å’Œä½ç½®ã€‚

## ç›¸å…³æ–‡ä»¶

- `extensions/whatsapp/src/runtime.ts`
- `extensions/whatsapp/src/monitor.ts`

## å˜æ›´è®°å½•

### 2026-02-10 - åˆ›å»º WhatsApp æ‰©å±•æ–‡æ¡£
- âœ… åˆ›å»º `extensions/whatsapp/CLAUDE.md` æ–‡æ¡£
- ğŸ“‹ è®°å½• Baileys é›†æˆå’Œåª’ä½“ä¼ è¾“
- ğŸ”— å»ºç«‹ WhatsApp é€‚é…å™¨å¯¼èˆª


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 10, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #2212 | 10:30 AM | ğŸŸ£ | Documentation coverage campaign achieved 100% core module coverage | ~546 |
</claude-mem-context>