# Google Antigravity Auth æ‰©å±•

[è¿”å›ç›®å½•](../CLAUDE.md) > **extensions/google-antigravity-auth**

## æ¨¡å—èŒè´£

Google Antigravityï¼ˆCloud Code Assistï¼‰OAuth è®¤è¯æä¾›å•†æ’ä»¶ã€‚

## åŠŸèƒ½æ¦‚è¿°

### OAuth è®¤è¯
- **PKCE æµç¨‹**ï¼šProof Key for Code Exchange å¢å¼ºå®‰å…¨æ€§
- **æœ¬åœ°å›è°ƒ**ï¼šè‡ªåŠ¨å¯åŠ¨æœ¬åœ° HTTP æœåŠ¡å™¨æ¥æ”¶å›è°ƒ
- **æ‰‹åŠ¨æ¨¡å¼**ï¼šæ”¯æŒè¿œç¨‹ç¯å¢ƒçš„ URL å¤åˆ¶ç²˜è´´æ¨¡å¼
- **è‡ªåŠ¨åˆ·æ–°**ï¼šæ”¯æŒåˆ·æ–°ä»¤ç‰Œ

### Google Cloud é›†æˆ
- **Cloud Code Assist**ï¼šGoogle AI ç¼–ç¨‹åŠ©æ‰‹
- **é¡¹ç›®é…é¢**ï¼šä½¿ç”¨ Google Cloud é¡¹ç›®é…é¢
- **é»˜è®¤æ¨¡å‹**ï¼š`google-antigravity/claude-opus-4-6-thinking`

### ä½œç”¨åŸŸ
- `cloud-platform` - Cloud Platform å®Œæ•´è®¿é—®
- `userinfo.email` - ç”¨æˆ·é‚®ç®±
- `userinfo.profile` - ç”¨æˆ·èµ„æ–™
- `cclog` - Cloud Code æ—¥å¿—
- `experimentsandconfigs` - å®éªŒå’Œé…ç½®

## å…³é”®ä¾èµ–

### OAuth é…ç½®
- **å®¢æˆ·ç«¯ ID**ï¼šå†…ç½®ï¼ˆä» base64 è§£ç ï¼‰
- **å®¢æˆ·ç«¯å¯†é’¥**ï¼šå†…ç½®ï¼ˆä» base64 è§£ç ï¼‰
- **é‡å®šå‘ URI**ï¼š`http://localhost:51121/oauth-callback`
- **æˆæƒ URL**ï¼š`https://accounts.google.com/o/oauth2/v2/auth`
- **ä»¤ç‰Œ URL**ï¼š`https://oauth2.googleapis.com/token`

### ç«¯ç‚¹
- **Cloud Code Assist**ï¼š`cloudcode-pa.googleapis.com`
- **Sandbox**ï¼š`daily-cloudcode-pa.sandbox.googleapis.com`

## å¯¹å¤–æ¥å£

### æä¾›å•†é…ç½®
```typescript
{
  id: "google-antigravity",
  label: "Google Antigravity",
  aliases: ["antigravity"],
  auth: [{
    id: "oauth",
    label: "Google OAuth",
    hint: "PKCE + localhost callback",
    kind: "oauth",
  }],
}
```

### è®¤è¯ç»“æœ
```typescript
{
  profiles: [{
    profileId: string,
    credential: {
      type: "oauth",
      provider: "google-antigravity",
      access: string,      // è®¿é—®ä»¤ç‰Œ
      refresh: string,    // åˆ·æ–°ä»¤ç‰Œ
      expires: number,    // è¿‡æœŸæ—¶é—´æˆ³
      email?: string,
      projectId: string, // Cloud é¡¹ç›® ID
    },
  }],
  defaultModel: "google-antigravity/claude-opus-4-6-thinking",
}
```

## ä½¿ç”¨è¯´æ˜

### è®¤è¯æµç¨‹
1. **å¯åŠ¨è®¤è¯**
   ```bash
   openclaw providers add google-antigravity
   ```

2. **æœ¬åœ°æ¨¡å¼**
   - è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è¿›è¡Œæˆæƒ
   - æœ¬åœ°æœåŠ¡å™¨æ¥æ”¶å›è°ƒ

3. **è¿œç¨‹æ¨¡å¼**
   - å¤åˆ¶æˆæƒ URL
   - åœ¨æµè§ˆå™¨ä¸­å®Œæˆæˆæƒ
   - å¤åˆ¶å®Œæ•´é‡å®šå‘ URL å¹¶ç²˜è´´

### ç¯å¢ƒå˜é‡
```bash
# å¯é€‰ï¼šæŒ‡å®šå®¢æˆ·ç«¯ ID å’Œå¯†é’¥
export OPENCLAW_ANTIGRAVITY_CLIENT_ID="..."
export OPENCLAW_ANTIGRAVITY_CLIENT_SECRET="..."
```

## æ³¨æ„äº‹é¡¹

1. **é¡¹ç›®é…é¢**ï¼šAntigravity ä½¿ç”¨ Google Cloud é¡¹ç›®é…é¢
2. **å¯ç”¨ Gemini**ï¼šå¦‚æœè¯·æ±‚å¤±è´¥ï¼Œç¡®ä¿åœ¨é¡¹ç›®ä¸­å¯ç”¨ Gemini for Google Cloud
3. **ç½‘ç»œè¦æ±‚**ï¼šéœ€è¦è®¿é—® Google OAuth ç«¯ç‚¹
4. **ä»¤ç‰Œåˆ·æ–°**ï¼šè‡ªåŠ¨åˆ·æ–°ï¼Œå¦‚æœåˆ·æ–°å¤±è´¥æˆ–è®¿é—®è¢«æ’¤é”€éœ€é‡æ–°ç™»å½•

## ç›¸å…³æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶
- `index.ts` - æ’ä»¶å…¥å£å’Œ OAuth æµç¨‹

### é…ç½®æ–‡ä»¶
- `package.json` - æ’ä»¶æ¸…å•

## å˜æ›´è®°å½•

### 2026-02-13 - åˆå§‹åˆ›å»º
- âœ… åˆ›å»º Google Antigravity Auth æ‰©å±•æ–‡æ¡£
- ğŸ“‹ è®°å½• OAuth è®¤è¯æµç¨‹
- ğŸ”— å»ºç«‹ä¸ Google Cloud çš„å…³è”


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>